<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Project Details</title>
  <link rel="stylesheet" href="./assets/css/style.css">
  <script src="./assets/js/projects-data.js"></script>
</head>

<body>
  <main>
    <aside class="sidebar">
      <div class="sidebar-info">
        <figure class="avatar-box">
          <img src="./assets/images/my-avatar.png" alt="Ahmad Shahzad" width="80">
        </figure>
        <div class="info-content">
          <h1 class="name">Ahmad Shahzad</h1>
          <p class="title">Automation Engineer</p>
        </div>
        <a href="index.html" class="form-btn">‚Üê Back to Portfolio</a>
      </div>
    </aside>

    <div class="main-content">
      <article class="project-details active" data-page="project-details">
        <header>
          <h2 class="h2 article-title" id="project-title"></h2>
        </header>

        <section class="project-content">
          <figure>
            <img id="project-image" src="" alt="Project image" loading="lazy">
          </figure>

          <p id="project-description"></p>

          <h3>Technologies Used</h3>
          <ul id="project-tech"></ul>

          <h3>Key Features</h3>
          <ul id="project-features"></ul>

          <!-- Added Media Section -->
          <section id="project-media" style="margin-top: 2rem;"></section>

          <a href="index.html" class="form-btn" style="margin-top:2rem;">‚Üê Back to Portfolio</a>
        </section>
      </article>
    </div>
  </main>

  <script>
    // Get project ID from URL
    const urlParams = new URLSearchParams(window.location.search);
    const projectId = urlParams.get("id");

    // Find the project from our data
    const project = projectsData[projectId];

    if (project) {
      document.getElementById("project-title").textContent = project.title;
      document.getElementById("project-image").src = project.image;
      document.getElementById("project-description").innerHTML = project.description;

      const techList = document.getElementById("project-tech");
      project.technologies.forEach(t => {
        const li = document.createElement("li");
        li.textContent = t;
        techList.appendChild(li);
      });

      const featList = document.getElementById("project-features");
      project.features.forEach(f => {
        const li = document.createElement("li");
        li.textContent = f;
        featList.appendChild(li);
      });

      // üé• VIDEO / SLIDES SECTION
      const mediaSection = document.getElementById("project-media");

      if (project.videoUrl) {
        mediaSection.innerHTML += `
          <h3>üé• Project Demo</h3>
          <div style="margin-top:1rem;">
            <iframe src="${project.videoUrl}" frameborder="0" allowfullscreen
              style="width:100%; height:400px; border-radius:10px;"></iframe>
          </div>
        `;
      }

      if (project.slidesUrl) {
        mediaSection.innerHTML += `
          <h3>üìä Presentation Slides</h3>
          <div style="margin-top:1rem;">
            <iframe src="${project.slidesUrl}" frameborder="0" allowfullscreen
              style="width:100%; height:480px; border-radius:10px;"></iframe>
          </div>
        `;
      }

    } else {
      document.getElementById("project-title").textContent = "Project Not Found";
    }
  </script>
</body>
</html>
